{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\weatherappv4\\\\client\\\\src\\\\components\\\\WeatherSearch.js\";\nimport React, { useState } from \"react\";\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { Typography, ListItemText, IconButton, Button, CardContent } from \"@material-ui/core\";\nimport List from '@material-ui/core/List';\nimport axios from \"axios\";\nimport Card from \"@material-ui/core/Card\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport searchGlass from \"./pngs/icons8-search-64.png\";\n\nfunction WeatherSearch() {\n  const [weatherdata, setweatherdata] = useState({});\n  const [searchedcity, setsearchedcity] = useState(\"\");\n  var [object, setObject] = useState({\n    username: \"\",\n    locationpref: \"\",\n    dob: \"\"\n  });\n\n  function search() {\n    const apikey = \"ba9faead36419b05538747acf541515b\";\n    const city = searchedcity;\n    const url = \"http://api.openweathermap.org/data/2.5/weather?q=\" + city + \"&APPID=\" + apikey;\n    axios.get(url).then(res => {\n      setweatherdata(res.data);\n    });\n  }\n\n  async function saveprefs() {\n    await axios.post(\"http://localhost:3001/users\", {\n      username: object.username,\n      locationPref: object.locationPref\n    });\n  }\n\n  const handleKeyDown = event => {\n    if (event.key === 'Enter') {\n      search();\n    }\n  };\n\n  function capital_letter(str) {\n    str = str.split(\" \");\n\n    for (var i = 0, x = str.length; i < x; i++) {\n      str[i] = str[i][0].toUpperCase() + str[i].substr(1);\n    }\n\n    return str.join(\" \");\n  }\n\n  const useStyles = makeStyles({\n    card: {\n      display: \"\",\n      minWidth: \"10px\",\n      minHeight: \"10px\",\n      maxWidth: \"400px\",\n      margin: \"50px\"\n    },\n    textfield: {\n      margin: \"10px\"\n    },\n    searchButton: {\n      display: \"block\"\n    },\n    Icon: {},\n    tempMain: {},\n    Info: {},\n    SignInForm: {\n      margin: \"12px\"\n    }\n  });\n  const classes = useStyles();\n  var displayedList = \"\";\n  var displayedIcon = \"\";\n  var displayedTemp = \"\";\n\n  if (weatherdata.name !== undefined && searchedcity !== undefined) {\n    displayedTemp = /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.tempMain,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 29\n      }\n    }, Math.round(weatherdata.main.temp - 273.15) + \"째C\"), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"h6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 29\n      }\n    }, capital_letter(weatherdata.weather[0].description)));\n    displayedList = /*#__PURE__*/React.createElement(List, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \" Weather in \" + weatherdata.name + \", \" + weatherdata.sys.country + \":\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Humidity: \" + weatherdata.main.humidity + \"%\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(ListItemText, {\n      primary: \"Wind Speed: \" + weatherdata.wind.speed + \",  Bearing: \" + weatherdata.wind.deg + \"째\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }));\n\n    switch (weatherdata.weather[0].icon) {\n      case \"01d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/01d@2x.png\";\n          break;\n        }\n\n      case \"02d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/02d@2x.png\";\n          break;\n        }\n\n      case \"03d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/03d@2x.png\";\n          break;\n        }\n\n      case \"04d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\";\n          break;\n        }\n\n      case \"09d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\";\n          break;\n        }\n\n      case \"10d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\";\n          break;\n        }\n\n      case \"11d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\";\n          break;\n        }\n\n      case \"12d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\";\n          break;\n        }\n\n      case \"50d\":\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\";\n          break;\n        }\n\n      default:\n        {\n          displayedIcon = \"http://openweathermap.org/img/wn/10d@2x.png\";\n        }\n    }\n  }\n\n  var fart = \"\";\n\n  async function setfart() {\n    fart = await axios.get(\"http://localhost:3001/users\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"WeatherSearch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AppBar, {\n    position: \"static\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    className: \"AppBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 21\n    }\n  }, setfart(), \"Weather App \", fart.username)), /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    variant: \"filled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    className: classes.textfield,\n    top: \"50%\",\n    id: \"textinput\",\n    label: \"Search A City\",\n    variant: \"outlined\",\n    onChange: event => {\n      const {\n        value\n      } = event.target;\n      setsearchedcity(value);\n    },\n    onKeyDown: handleKeyDown,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    classname: classes.searchButton,\n    onClick: () => search(),\n    \"aria-label\": \"Search Weather\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: searchGlass,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.Icon,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: displayedIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 25\n    }\n  }), displayedTemp), /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.Info,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 21\n    }\n  }, displayedList)), /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.SignInForm,\n    noValidate: true,\n    autoComplete: \"off\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Username\",\n    onChange: event => {\n      const {\n        value\n      } = event.target;\n      setObject({\n        username: value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    id: \"standard-basic\",\n    label: \"Home City\",\n    onChange: event => {\n      const {\n        value\n      } = event.target;\n      setObject({\n        locationpref: value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: () => saveprefs(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 25\n    }\n  }, \"Save Preferences\")))));\n}\n\nexport default WeatherSearch;","map":{"version":3,"sources":["C:/Users/Administrator/Documents/weatherappv4/client/src/components/WeatherSearch.js"],"names":["React","useState","TextField","AppBar","Typography","ListItemText","IconButton","Button","CardContent","List","axios","Card","makeStyles","searchGlass","WeatherSearch","weatherdata","setweatherdata","searchedcity","setsearchedcity","object","setObject","username","locationpref","dob","search","apikey","city","url","get","then","res","data","saveprefs","post","locationPref","handleKeyDown","event","key","capital_letter","str","split","i","x","length","toUpperCase","substr","join","useStyles","card","display","minWidth","minHeight","maxWidth","margin","textfield","searchButton","Icon","tempMain","Info","SignInForm","classes","displayedList","displayedIcon","displayedTemp","name","undefined","Math","round","main","temp","weather","description","sys","country","humidity","wind","speed","deg","icon","fart","setfart","value","target"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport { Typography, ListItemText, IconButton,Button, CardContent } from \"@material-ui/core\";\r\nimport List from '@material-ui/core/List';\r\nimport axios from \"axios\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport searchGlass from \"./pngs/icons8-search-64.png\";\r\n\r\nfunction WeatherSearch() {\r\n    const [weatherdata, setweatherdata] = useState({});\r\n    const [searchedcity, setsearchedcity] = useState(\"\");\r\n    \r\n    \r\n    var [object, setObject] = useState({username: \"\", locationpref: \"\", dob: \"\"});\r\n\r\n    function search() {\r\n        const apikey = \"ba9faead36419b05538747acf541515b\";\r\n        const city = searchedcity;\r\n        const url = \"http://api.openweathermap.org/data/2.5/weather?q=\" + city + \"&APPID=\" + apikey;\r\n        axios.get(url)\r\n            .then(res => {\r\n                setweatherdata(res.data);\r\n            })\r\n    }\r\n\r\n    async function saveprefs() {\r\n        await axios.post(\"http://localhost:3001/users\",\r\n        {   \r\n            username: object.username,\r\n            locationPref: object.locationPref\r\n        }\r\n        )\r\n    }\r\n    \r\n    const handleKeyDown = (event) => {\r\n        if (event.key === 'Enter') {\r\n          search();\r\n        }\r\n    }\r\n\r\n\r\n    function capital_letter(str) \r\n    {\r\n        str = str.split(\" \");\r\n\r\n        for (var i = 0, x = str.length; i < x; i++) {\r\n            str[i] = str[i][0].toUpperCase() + str[i].substr(1);\r\n    }\r\n\r\n    return str.join(\" \");\r\n}\r\n\r\n\r\n\r\n    const useStyles = makeStyles({\r\n        card: {\r\n\r\n            display: \"\",\r\n            minWidth: \"10px\",\r\n            minHeight: \"10px\",\r\n            maxWidth: \"400px\",\r\n            margin: \"50px\",\r\n            \r\n        },\r\n        textfield: {\r\n            margin: \"10px\",\r\n           \r\n        },\r\n        searchButton: {\r\n            display:\"block\",\r\n            \r\n        },\r\n        Icon:{\r\n        \r\n        },\r\n        tempMain:{\r\n\r\n        },\r\n        Info:{\r\n            \r\n        },\r\n        SignInForm:{\r\n            margin: \"12px\",\r\n        }\r\n        \r\n      });\r\n      const classes = useStyles()\r\n\r\n    \r\n\r\n\r\n    var displayedList = \"\";\r\n    var displayedIcon = \"\";\r\n    var displayedTemp = \"\";\r\n    \r\n    if( (weatherdata.name !== undefined) && (searchedcity !== undefined) ) {\r\n        displayedTemp = <div className = {classes.tempMain}>\r\n                        \r\n                            <Typography variant = \"h3\">\r\n                                {Math.round(weatherdata.main.temp -273.15) + \"째C\"}\r\n                                \r\n                            </Typography>\r\n                            \r\n                            <Typography variant = \"h6\">\r\n                                {capital_letter(weatherdata.weather[0].description)}\r\n                            </Typography>\r\n                        </div>\r\n        displayedList = <List  >\r\n                            <ListItemText primary = {\" Weather in \"+ weatherdata.name +\", \"+ weatherdata.sys.country + \":\"}/>\r\n                            <ListItemText primary = {\"Humidity: \"+ weatherdata.main.humidity +\"%\" }/>\r\n                            <ListItemText primary = {\"Wind Speed: \" + weatherdata.wind.speed + \",  Bearing: \" + weatherdata.wind.deg + \"째\" }/>\r\n                        </List> \r\n        \r\n       \r\n       \r\n        switch(weatherdata.weather[0].icon) {\r\n            case(\"01d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/01d@2x.png\"\r\n                break;\r\n            }\r\n\r\n            case(\"02d\"):{\r\n               displayedIcon = \"http://openweathermap.org/img/wn/02d@2x.png\"\r\n               break;\r\n            }\r\n\r\n            case(\"03d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/03d@2x.png\"\r\n                break;\r\n             }\r\n\r\n            case(\"04d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\"\r\n                break;\r\n            }\r\n            case(\"09d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\"\r\n                break;\r\n            }\r\n            case(\"10d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\"\r\n                break;\r\n            }\r\n            case(\"11d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\"\r\n                break;\r\n            }\r\n            case(\"12d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\"\r\n                break;\r\n            }\r\n            case(\"50d\"):{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/04d@2x.png\"\r\n                break;\r\n            }\r\n\r\n            default:{\r\n                displayedIcon = \"http://openweathermap.org/img/wn/10d@2x.png\"\r\n            }\r\n\r\n           \r\n        }\r\n    }\r\n\r\n    var fart = \"\"\r\n    async function setfart(){\r\n        fart = await axios.get(\"http://localhost:3001/users\")\r\n    }\r\n\r\n\r\n    return (\r\n       \r\n        <div className=\"WeatherSearch\">\r\n            <div>\r\n                <AppBar position=\"static\">\r\n                    <Typography variant=\"h6\" className=\"AppBar\">\r\n                        {setfart()}\r\n                        Weather App {fart.username}\r\n                    </Typography>\r\n                </AppBar>\r\n                \r\n                <Card className={classes.card} variant=\"filled\">\r\n                    <CardContent>\r\n                        <TextField \r\n                            className = {classes.textfield}\r\n                            top = \"50%\"\r\n                            id=\"textinput\"\r\n                            label = \"Search A City\"\r\n                            variant=\"outlined\"\r\n                            onChange= {event => {\r\n                                const { value } = event.target;\r\n                                setsearchedcity(value)\r\n                            }}\r\n                          onKeyDown={handleKeyDown}\r\n                        />\r\n                        <IconButton  \r\n                            classname ={classes.searchButton}\r\n                            onClick={() => search()}\r\n                            aria-label=\"Search Weather\"      \r\n                        > \r\n                            <img src = {searchGlass} alt = \"\"/>\r\n                        </IconButton> \r\n                    </CardContent> \r\n                    \r\n                    <CardContent className={classes.Icon} >\r\n                        \r\n                        <img src={displayedIcon} alt = \"\"/>\r\n                        {displayedTemp}\r\n\r\n                    </CardContent>\r\n                       \r\n                    <CardContent className={classes.Info} >\r\n                        {displayedList} \r\n                    </CardContent>\r\n                        \r\n                     \r\n                </Card>   \r\n                <Card className = {classes.card}>\r\n                    <CardContent>\r\n                    <form className={classes.SignInForm} noValidate autoComplete=\"off\">\r\n                        <TextField id=\"standard-basic\" label=\"Username\" \r\n                                onChange= {event => {\r\n                                    const { value } = event.target;\r\n                                    setObject({username: value})\r\n                                }}\r\n                            />\r\n                        \r\n                       \r\n                        <TextField id=\"standard-basic\" label=\"Home City\"\r\n                            onChange= {event => {\r\n                                const { value } = event.target;\r\n                                setObject({locationpref: value})\r\n                            }}\r\n                        />\r\n                        \r\n                        \r\n                    </form>\r\n                        <Button variant=\"contained\" color=\"primary\"\r\n                           onClick={() => saveprefs()}\r\n                        >\r\n                            Save Preferences   \r\n                        </Button> \r\n                    </CardContent>\r\n                </Card>    \r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default WeatherSearch;"]},"metadata":{},"sourceType":"module"}